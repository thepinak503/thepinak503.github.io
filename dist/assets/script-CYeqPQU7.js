(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function c(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(r){if(r.ep)return;r.ep=!0;const i=c(r);fetch(r.href,i)}})();document.addEventListener("DOMContentLoaded",()=>{const f=document.documentElement,s=document.getElementById("year");s&&(s.textContent=String(new Date().getFullYear()));const c=document.getElementById("theme-toggle"),u=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,i=localStorage.getItem("theme")||(u?"dark":"light");a(i);function a(e){f.setAttribute("data-theme",e);try{localStorage.setItem("theme",e)}catch{}c&&c.setAttribute("aria-label",e==="dark"?"Switch to light mode":"Switch to dark mode");const t=document.getElementById("theme-icon");t&&(t.textContent=e==="dark"?"light_mode":"dark_mode")}c&&c.addEventListener("click",()=>{const e=f.getAttribute("data-theme")==="dark"?"light":"dark";a(e)});function g(e){const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){const o=this.getAttribute("href");!o||!document.querySelector(o)||(t.preventDefault(),g(o))})});const b=document.getElementById("btn-view-work");b&&b.addEventListener("click",()=>g("#projects"));const v=document.getElementById("btn-about-me");v&&v.addEventListener("click",()=>g("#about"));const l=document.getElementById("hamburger-menu"),d=document.querySelector(".nav-links");l&&d&&(l.addEventListener("click",()=>{const e=l.getAttribute("aria-expanded")==="true";l.setAttribute("aria-expanded",String(!e)),d.classList.toggle("active")}),d.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{d.classList.contains("active")&&(d.classList.remove("active"),l.setAttribute("aria-expanded","false"))})}));const y=Array.from(document.querySelectorAll("main section[id]")),E=new Map;if(document.querySelectorAll('.nav-links a[href^="#"]').forEach(e=>{const t=e.getAttribute("href")||"";E.set(t.replace("#",""),e)}),"IntersectionObserver"in window&&y.length){const e=new IntersectionObserver(t=>{t.forEach(o=>{if(!o.isIntersecting)return;const n=o.target.getAttribute("id");n&&I(n)})},{rootMargin:"0px 0px -40% 0px",threshold:.4});y.forEach(t=>e.observe(t))}function I(e){E.forEach((t,o)=>{const n=o===e;t.classList.toggle("active",n),n?t.setAttribute("aria-current","true"):t.removeAttribute("aria-current")})}const w=document.getElementById("contact-form");if(w){const e=document.getElementById("form-status");w.addEventListener("submit",function(t){t.preventDefault();const o=this.querySelector('input[name="name"]').value.trim(),n=this.querySelector('input[name="email"]').value.trim(),h=this.querySelector('textarea[name="message"]').value.trim(),p=this.querySelector('input[name="website"]');if((p&&p.value?p.value:"").trim()){this.reset(),e&&(e.textContent="Thank you!");return}if(!o||!n||!h){e&&(e.textContent="Please fill out all fields.");return}if(!/^\S+@\S+\.\S+$/.test(n)){e&&(e.textContent="Please enter a valid email address.");return}const m=this.querySelector('button[type="submit"]');m&&(m.disabled=!0),e&&(e.textContent="Sendingâ€¦"),setTimeout(()=>{e&&(e.textContent="Message sent! I will get back to you soon."),this.reset(),m&&(m.disabled=!1)},800)})}const S=document.getElementById("projects-app");if(S&&"IntersectionObserver"in window){const e={loaded:!1},t=()=>{if(e.loaded)return;e.loaded=!0;const n=document.createElement("script");n.type="module",n.src="./web-components/projects-app.js",document.body.appendChild(n)},o=new IntersectionObserver(n=>{n.forEach(h=>{h.isIntersecting&&(t(),o.disconnect())})},{rootMargin:"200px 0px"});o.observe(S)}});
